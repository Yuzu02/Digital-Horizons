---
title: "Zod to validate env variables"
author: "Yuzu Kaufman"
avatar: "/assets/Avatars/yuzu-roze.jpg"
category: "Desarrollo-Web-y-Aplicaciones"
publishDate: "5/12/2024"
description: "Learn how to use Zod to validate environment variables in Next.js."
---

<Indice
  items={[
    {
      title: "Step 1: Install Zod",
      link: "#step-1-install-zod",
    },
    {
      title: "Step 2: Create a schema for environment variables",
      link: "#step-2-create-a-schema-for-environment-variables",
    },
    {
      title: "Step 3: Validate environment variables",
      link: "#step-3-validate-environment-variables",
    },
  ]}
/>

<SubTitulo id="step-1-install-zod">How to use Zod to validate environment variables in Next.js</SubTitulo>

In this article, we will learn how to use Zod to validate environment variables in Next.js.

### Step 1: Install Zod

First, we need to install Zod.

```bash
npm install zod
```

### Step 2: Create a schema for environment variables

Next, we need to create a schema for environment variables using Zod.

```typescript
import { z } from "zod";

const schema = z.object({
  PORT: z.string(),
  DATABASE_URL: z.string(),
});
```

### Step 3: Validate environment variables

Next, we need to validate environment variables using the schema.

```typescript
import { validateEnv } from "./validateEnv";

const env = process.env;

const result = schema.safeParse(env);

if (!result.success) {
  console.error(result.error.errors);
  process.exit(1);
}
```

### Step 4: Use validated environment variables

Finally, we can use the validated environment variables in our Next.js application.

```typescript
import { createConnection } from "typeorm";

createConnection({
  type: "postgres",
  url: env.DATABASE_URL,
  port: parseInt(env.PORT),
});
```

That's it! Now you have successfully used Zod to validate environment variables in Next.js.
